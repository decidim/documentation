= Proposals

The Proposals component allows people to create, comment, endorse, and give support to proposals.

From this starting point, there could be other configurations, such as:

* how many proposals a participant can create
* how many supports as a maximum a participant can give to proposals
* how many supports as a minimum a participant must give to proposals so their supports are valid
* whether you want to enable that participants comment on proposals
* whether you want that proposals have images, attachments, WYSIWYG editor, geo-located address, scopes, etc.

Some examples of this component in use include:

* https://futureu.europa.eu/[Conference of the Future of Europe]
* https://meta.decidim.org/processes/roadmap/f/122/[Propose new functionalities for Decidim software] in https://meta.decidim.org/[Metadecidim]

image:components/proposals/example01.png[Proposals list example in COFE]
image:components/proposals/example02.png[Proposals list example in Metadecidim]
image:components/proposals/example03.png[Proposal detail example in Metadecidim]

To configure the Proposals component:

. Sign in as an administrator
. Go to the administrator panel
. In the main sidebar, click in the button for the space that you want to configure the component for.
For instance, it could be 'Processes', 'Assemblies', or 'Conferences'
. Go to components
. Click on 'Add component' button
. Click on 'Proposals'
. Fill the xref:_add_component[Add component] form

== Add component

image:components/proposals/component.png[Add component form]

.Add component: Proposals form
|===
|Field |Type |Description

|Name
|Required
|What is the title of this component. For instance, 'Proposals'

|Order position
|Optional
|Which order it has in relation to the other components. Having a lower number means a higher priority.
For instance, if you have two components, 'Proposals' with weight '10' and 'Meetings' with weight '0', then 'Meetings' displays first when ordering.

|===

.Add component: Proposals form - Global settings
|===
|Field |Type |Description

|Scopes enabled
|Optional
|Select if you want to have Scopes filtering in this component.

|Scope
|Optional
|Which xref:admin:scopes.adoc[Scope] does this component belongs to.

|Support limit per participant
|Optional
|Must be a number. How many supports a participant can give to proposals.

|Minimum supports per user
|Optional
|Must be a number. How many supports does a participant need to give to proposals for their votes to count. If she does not
reach this number, her supports are not taken in account.

|Proposal limit per participant
|Optional
|Must be a number. How many proposals a participant can create.

|Maximum proposal body length
|Optional
|Must be a number. How many characters a proposal body can have as maximum.


pass:[<!-- vale Google.Passive = NO -->]

// There are some grammatical issues here in the core strings, so we turn off the vale alerts here until they are fixed.

|Proposal editing
|Required
|Choose one of these two options: 'Allow editing of proposals within a specific time frame' or 'Allow editing proposals
for an infinite amount of time'. In case it is within a specific time frame, you must specify the time in 'Proposals can be
edited by authors before this many minutes passes'. Note that if you xref:components/proposals/answers.adoc[answer a proposal]
then you cannot edit it anymore.

|Proposals can be edited by authors before this many minutes passes
|Required if 'Proposal editing' is 'Allow editing of proposals within a specific time frame'
|Must be a number. How many minutes the author has after the creation of a proposal to make edits.

pass:[<!-- vale Google.Passive = YES -->]

|Threshold per proposal
|Optional
|Must be a number. How many supports a proposal needs to be 'validated'. See <<setting-threshold,screenshots>>.

|Can accumulate supports beyond threshold
|Optional. Only applies if you have configured 'Threshold per proposal'.
|Whether the proposal can accumulate more supports than the threshold.

|Proposal answering enabled
|Optional
|Whether administrators or valuators can answer proposals.

|Official proposals enabled
|Optional
|Whether administrators can create official proposals.

|Comments enabled
|Optional
|Whether you want to have comments in the meetings.

|Comments max length
|Optional
|What is the character limit that participants have when making comments. Use 0 for the default value.

|Geo-coding enabled
|Optional
|Whether participants can define a geo-coding address for their proposals. Need to have xref:configure:geocoding[Geo-coding] enabled. See <<setting-geocoding,screenshots>>.

|Allow attachments
|Optional
|Select to allow participants to attach files to their proposals.

|Allow card image
|Optional
|Select to show a card image when participants attach images to their proposals. See <<setting-card-image,screenshots>>.

pass:[<!-- vale Google.Passive = NO -->]

// There are some grammatical issues here in the core strings, so we turn off the vale alerts here until they are fixed.

|Actions permissions can be set for each proposal
|Optional
|Whether you want to be able to set permissions for every one of the proposals. Most of the time you should leave this option turned off.

pass:[<!-- vale Google.Passive = YES -->]

|Collaborative drafts enabled
|Optional
|Select to enable xref:components/proposals/collaborative_drafts.adoc[collaborative drafts] in proposals.

|Participatory texts enabled
|Optional
|Select to enable xref:components/proposals/participatory_texts.adoc[participatory texts] in proposals.

|Amendments enabled
|Optional
|Select to enable xref:components/proposals/amendments.adoc[amendments] in proposals. If active, configure Amendment features for each step.

|Amendments Wizard help text
|Optional. Visible if the 'Amendments enabled' option is selected.
|What is the help text visible when creating new amendments.

|Announcement
|Optional
|A general announcement visible on the general proposals landing page.

|New proposal body template
|Optional
|Pre-defined text that displays when creating new proposals. Useful if you want to define a format that participants need to
follow when creating new proposals.

|New proposal help text
|Optional
|What is the help text visible when creating new proposals.

|Proposal wizard 'Create' step help text
|Optional
|What is the help text visible when creating new proposals in the 'Create' step.

|Proposal wizard 'Compare' step help text
|Optional
|What is the help text visible when creating new proposals in the 'Compare' step.

|Proposal wizard 'Complete' step help text
|Optional
|What is the help text visible when creating new proposals in the 'Complete' step.

|Proposal wizard 'Publish' step help text
|Optional
|What is the help text visible when creating new proposals in the 'Publish' step.

|===

[#setting-threshold]
*Example of threshold setting*

image::components/proposals/setting_threshold01.png[Example of threshold setting]
image::components/proposals/setting_threshold02.png[Example of threshold setting]

[#setting-card-image]
*Example of card image setting*

image::components/proposals/setting_card_image.png[Example of card image setting]

[#setting-geocoding]
*Example of geo-coding setting*

image::components/proposals/setting_geocoding.png[Example of geo-coding setting]

---

In the cases where the space using this component has xref:admin:spaces/processes/phases.adoc[Phases], for instance, in
xref:admin:spaces/processes.adoc[Participatory Processes], then you can also define different behaviors per Step.

.Add component: Proposals form - Step settings
|===
|Field |Type |Description

|Announcement
|Optional
|A general announcement visible on the general proposal landing page.

|Endorsements enabled
|Optional
|Select if you want participants to show public support for these proposals.

|Endorsements blocked
|Optional
|Whether participants can see the endorsements but cannot make any.

|Supports enabled
|Optional
|Allows participants to support proposals in this step.

|Supports blocked
|Optional
|Prevents participants supporting proposals in this step.

|Supports hidden
|Optional
|If you have enabled supports, checking this hides the number of supports in the front end.

|Comments blocked
|Optional
|Whether you want to allow comments for this phase.

|Proposal creation enabled
|Optional
|Whether you want to allow proposal creation by participants for this phase. See xref:_new_proposal_form[New proposal form]

|Proposal answering enabled
|Optional
|Whether you want to allow xref:components/proposals/answers.adoc[proposal answering].

|Publish proposal answers immediately
|Optional
|Whether you want answers of proposals published at the same time that you're xref:components/proposals/answers.adoc[answering] them or you want to control when to publish the answers.

|Enable costs on proposal answers
|Optional
|Whether you want to add economical costs to proposal answers. Useful for importing to xref:components/budgets.adoc[budgets].

|Amendment creation enabled
|Optional. Visible if you have checked 'Amendments enabled'.
|Participant can amend proposals. See xref:components/proposals/amendments.adoc[Amendments].

|Amendment reaction enabled
|Optional. Visible if you have checked 'Amendments enabled'.
|Proposal's authors are able to accept or decline Participant's amendments.

|Amendment promotion enabled
|Optional. Visible if you have checked the 'Amendments enabled' option.
|Amendment authors can promote to Proposal the rejected amendment.

|Amendments visibility
|Required. Visible if you have checked the 'Amendments enabled' option.
|Choose one of 'Amendments are visible to all' or 'Amendments are visible only to their authors'

|Announcement
|Optional
|A general announcement visible on the general proposals landing page.

|Hashtags added to all proposals
|Optional
|Automatically add a hashtag to every proposal. See <<setting-hashtags,screenshots>>.

|Hashtags suggested to participants for new proposals
|Optional
|Suggest hashtags to participants for new proposals. Participants can select more than one hashtag. See <<setting-hashtags,screenshots>>.

|===

[#setting-hashtags]
*Example of hashtags setting*

image::components/proposals/setting_hashtag.png[Example of hashtag setting]

== Permissions

An administrator can choose which kind of xref:customize:authorizations.adoc[Authorizations] a participant needs to have to carry out
certain actions on the proposals:

* Endorse
* Support
* Create
* Withdraw
* Amend
* Comment
* Vote comment

== Manage proposals

image:components/proposals/manage_proposals.png[Manage proposals table]

=== Export

Allows exporting the proposals in different formats.

* Proposals as CSV
* Proposals as JSON
* Proposals as Excel
* Comments as CSV
* Comments as JSON
* Comments as Excel

=== Import

* Import from another component
* Import from a file

=== New proposal form

==== Citizens proposals

image:components/proposals/new_proposal_frontend.png[New proposal form]

Participants can create proposals if you have selected the setting 'Proposal creation enabled' for the active phase.

If a participant belongs to a xref:admin:participants/groups.adoc[user group], then she'll be able to create proposals as that group also.

This form depends a lot in which settings you've enabled in this component. It can be really short - with only a Title and Body by default - or very long - Title, Body, Hashtags, Address, Scope, Category, Image, and Attachment.

.New proposal form - default (by a participant)
|===
|Field |Type |Description

|Title
|Required
|What is the title of this proposal. For instance, 'Bike lane in Main Street'. Must have at least 15 characters as minimum
and 150 characters as maximum. Must start with a capital letter.

|Body
|Optional
|What is the full description for this proposal. Must have at least 15 characters as minimum and 450 characters as maximum
by default but you can change this with the setting 'Maximum proposal body length'.

|===

To detect duplicated proposals before publishing them, the proposal creation has a wizard form with multiple steps. This also
allows participants to save proposals drafts - unpublished - in case they need to fill out a lot of fields.

image:components/proposals/new_proposal_frontend_compare.png[New proposal form by a participant - Compare]

As an example of what the form could look depending in the settings enabled, here's a screenshot of the form for a proposal
with the following settings: 'Hashtags added to all proposals', 'Hashtags suggested to participants for new proposals',
'Geo-coding enabled', 'Allow attachments', 'Allow card image' and 'Scopes enabled'.

image:components/proposals/new_proposal_frontend_complete.png[New proposal form by a participant - Complete]

After completing these fields the participant can see a preview of their proposal before publishing. They can also modify
the proposal before publishing it.

image:components/proposals/new_proposal_frontend_publish.png[New proposal form by a participant - Publish]

image:components/proposals/new_proposal_frontend_published.png[Published proposal made by a participant]

==== Official proposals

Administrators can create official proposals. There is a filter to show only official proposals in the proposals navigation page.

image:components/proposals/new_proposal_backend01.png[New proposal form - default - official proposals]

.New proposal form - default - official proposals
|===
|Field |Type |Description

|Title
|Required
|What is the title of this proposal. For instance, 'Bike lane in Main Street'. Must have at least 15 characters as minimum
and 150 characters as maximum. Must start with a capital letter.

|Body
|Optional
|What is the full description of this proposal. Must have at least 15 characters as minimum and 450 characters as maximum
by default but you can change this with the setting 'Maximum proposal body length'.

|This proposal comes from a meeting
|Optional
|Select if this proposal comes from a meeting.

|Select a meeting
|Required if you have selected the 'This proposal comes from a meeting' checkbox.
|Dropdown selector with all the meetings of this space.

|===

As an example of what the form could look like depending on the settings enabled, here's a screenshot of the form for a proposal
with the following settings: 'Hashtags added to all proposals', 'Hashtags suggested to participants for new proposals',
'Geo-coding enabled', 'Allow attachments', 'Allow card image' and 'Scopes enabled'.

image:components/proposals/new_proposal_backend02.png[New proposal form - with multiple settings - official proposals]

==== Actions

.Actions
|===
|Icon |Name |Definition

|image:action_edit.png[Edit icon]
|Edit
|Edit form for a proposal. It is the same form as 'New proposal'. Only visible when the proposal is an xref:_official_proposals['Official proposal'].

|image:action_answer.png[Answer proposal icon]
|xref:components/proposals/answers.adoc[Answer proposal]
|Allows you to answer a proposal.

|image:action_permissions.png[Permissions icon]
|Permissions
|

|image:action_preview.png[Preview icon]
|Preview
|To preview the display in the front end to participants.

|===

== Origin filter

When navigating in the proposals listing, you can filter the proposals by origin.

image:components/proposals/origin_filter.png[Proposals origin filter]

There are five origin options:

* All: select all the origins
* xref:_official_proposals[Official]: proposals created by administrators
* xref:_citizens_proposals[Citizens]: proposals created by participants
* Groups: proposals created by participants that belong to a user group and choose a group as the author when creating the proposal
* Meetings: proposals created by administrators that have selected to associate the proposal with a meeting when creating the proposal

== Proposal types and mechanisms

There are different kind of proposals mechanisms that you can enable in proposals, such as:

* xref:admin:components/proposals/amendments.adoc[Amendments]
* xref:admin:components/proposals/answers.adoc[Answers]
* xref:admin:components/proposals/collaborative_drafts.adoc[Collaborative drafts]
* xref:admin:components/proposals/participatory_texts.adoc[Participatory texts]
